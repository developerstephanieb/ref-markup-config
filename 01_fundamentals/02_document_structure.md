# 02: Document Structure

The structure of a LaTeX document is defined by its preamble, where global settings are configured, and its body, where content is organized hierarchically.

---

## The Preamble

Every LaTeX document begins with a configuration block called the **preamble**. This is where the document type, external features, and metadata are defined. 

- `\documentclass[<options>]{<class>}`: The first command in any document. It specifies the document type.

  | `class`   | Description                         |
  | --------- | ----------------------------------- |
  | `article` | For short documents.                |
  | `report`  | For longer documents with chapters. |
  | `book`    | For books.                          |
  | `letter`  | For writing letters.                |

- `\usepackage[<options>]{<package>}`: Loads an external package to extend LaTeX's capabilities. 

- `\title{<text>}, \author{<text>}, \date{<text>}`: A set of commands that store the document's metadata. The `\date` command can be given a specific date or set to `\today` to use the current compilation date. The `\maketitle` command must be placed in the document body to render this metadata.

```latex
% ----- Preamble -----
\documentclass{article}
\usepackage{amsmath} % Loads package for advanced math

% Define metadata
\title{A Study of Document Structure}
\author{A. N. Author}
\date{\today}

\begin{document}
% ----- Document Body -----

\maketitle % Renders the title block

Einstein's mass-energy equivalence formula is:
\begin{equation}
  E = mc^2
\end{equation}

\end{document}
```

---

## Customizing the Title (the `titling` package)

The default `\maketitle` command produces a standard, fixed-format title block. For a more unique layout, additional tools are required.

- `titling` **package**: Offers detailed control over the layout of the title block generated by `\maketitle`.

- `\pretitle{<text>}`, `\posttitle{<text>}`: Inserts code immediately before and after the title.

- `\preauthor{<text>}`, `\postauthor{<text>}`: Inserts code immediately before and after the author name.

- `\predate{<text>}`, `\postdate{<text>}`: Inserts code immediately before and after the date.

```latex
\documentclass{article}
\usepackage{titling}

% Define the title, author, and date
\title{A Custom Title}
\author{A. N. Author}
\date{\today}

% Customize the layout of \maketitle
\pretitle{\begin{center}\LARGE\bfseries}
\posttitle{\end{center}\vspace{0.5em}}

\preauthor{\begin{center}\large}
\postauthor{\end{center}\vspace{0.5em}}

\predate{\begin{center}\large}
\postdate{\end{center}\hrule}

\begin{document}

\maketitle % Now renders the custom title block

\end{document}
```

---

## Structuring Content

Once the preamble is set, the main content is placed within a dedicated block and organized into a logical hierarchy using sectioning commands.

- `document` **environment**: Encloses all visible content.

- `\part{<title>}`: The highest-level heading.

- `\chapter{<title>}`: Starts a new chapter (available only in `report` and `book` classes).

- `\section{<title>}`, `\subsection{<title>}`, `\subsubsection{<title>}`: Hierarchical section headings that are automatically numbered. Adding an asterisk (`*`) to a command name (e.g., `\section*{...}`) creates an unnumbered heading.
  
- `\paragraph{<title>}`, `\subparagraph{<title>}`: The lowest-level headings, displayed inline with the following text.

- `\appendix`: Marks the start of the appendices. Subsequent sectioning commands use letters (`A`, `B`, `C`, etc.) for numbering.

- `\setcounter{secnumdepth}{<level>}`: Sets the maximum depth for numbered section headings.
  
  | `level` | Deepest Numbered Level |
  | :-----: | ---------------------- |
  |    0    | `\part`, `\chapter`    |
  |    1    | `\section`             |
  |    2    | `\subsection`          |
  |    3    | `\subsubsection`       |
  |    4    | `\paragraph`           |
  |    5    | `\subparagraph`        |

```latex
\documentclass{article}

\begin{document}

\part{Main Topics}

\section{Introduction} % 1
This is the first main section.

\subsection{Background} % 1.1
A subsection within the Introduction.

\subsubsection{Historical Context} % 1.1.1
A subsection within Background.

\paragraph{Key Figures}
Text begins on the same line as the title.

\subparagraph{Secondary Contributors}
Nested under the paragraph heading.

\section*{Acknowledgments} % Unnumbered
This section is not numbered due to the asterisk.

\appendix

\section{Supplemental Details} % A
More information goes here.

\end{document}
```

---

## Table of Contents

LaTeX automatically generate a table of contents (TOC) based on the document's sectioning commands. This process requires at least two compilation cycles: the first records the headings to an auxiliary file (`.toc`), and the second reads that file to render the table.

- `\tableofcontents`: Inserts the table of contents at the current location.

- `\setcounter{tocdepth}{<level>}`: Controls the depth of section levels displayed in the TOC.

- `\listoffigures`, `\listoftables`: Generates a list of all figures or tables that have captions.

- `\addcontentsline{<list>}{<level>}{<title>}`: Manually adds an entry to a specified list (`toc` for Table of Contents, `lof` for List of Figures, `lot` for List of Tables).

```latex
\documentclass{article}

\begin{document}

\tableofcontents
\newpage

\section{Main Body}
This section will appear in the ToC.

\section*{Acknowledgments} % Unnumbered; not listed in the ToC by default
\addcontentsline{toc}{section}{Acknowledgments} % Manually adds the entry to the ToC
This section is unnumbered but will now appear in the ToC.

\end{document}
```

---

## Managing Large Projects

For large projects, content is often split into multiple `.tex` files and aggregated into a single "root" file.

- `\input{<filename>}`: Inserts the content of another file (`filename.tex`) at the specified location. The external file should not contain its own preamble.

- `\include{<filename>}`: Inserts the content of another file on a new page. This command is primarily used for major divisions like chapters.

- `\includeonly{<file1>, <file2>, ...>}`: Directs the compiler to process only the listed files from the `\include` commands.

```latex
% ----- root.tex (Main File) -----
\documentclass{report}

\includeonly{chapter1} % Only compile chapter1.tex

\begin{document}

\input{introduction} % Inserts introduction.tex here.
\include{chapter1}   % Inserts chapter1.tex on a new page.
\include{chapter2}   % Skipped because it's not listed in \includeonly.

\end{document}

% ----- introduction.tex (External File) -----
\section{Introduction}
This is the introduction.


% ----- chapter1.tex (External File) -----
% This file contains the first chapter.
\chapter{First Chapter}
Content for the first chapter...
```
